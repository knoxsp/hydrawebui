<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">

  <xi:include href="master.html" />

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" py:replace="''"/>
  <title>Network ${network.network_name}</title>
  <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&amp;sensor=false">
</script>
<!--<script src="http://openlayers.org/en/v3.0.0/build/ol.js" type="text/javascript"></script>
<script>
    <py:for each="node in network.nodes">
      test.push(new Array([${node.node_x}, ${node.node_y}]));
      point = new OpenLayers.LonLat(${node.node_x},${node.node_y}).transform('EPSG:4326', 'EPSG:3857');
      log.console(point);
    </py:for>
</script>-->
  <script src="${tg.url('/javascript/maps.js')}"></script>
  <script src="${tg.url('/javascript/network.js')}"></script>
  <script>
    var scenario_id=${scenario_id}
    var node_coords = {}
    <py:for each="id, coord in node_coords.items()">
      node_coords[${id}] = [${coord[0]}, ${coord[1]}];
    </py:for>
    var link_coords = {}
    <py:for each="id, coord in link_coords.items()">
        link_coords[${id}] = [[${coord[0][0]}, ${coord[0][1]}], [${coord[1][0]}, ${coord[1][1]}]];
    </py:for>
    var node_img="${tg.url('/img/black_dot.png')}";

    var json_net = ${json_net};
  </script>

  <script src="${tg.url('/javascript/maps.js')}"></script>
</head>
<body>
    <div class="main_content">
      <div id="graph_container">
            <div class="tabs">
                <div id="statictab" class="tab selected">Graph View</div>
                <div id="mapstab" class="tab">Map View</div>
            </div>
        <div id="googleMap" class="graph hidden"></div>
      <div id="static_graph" class="graph"></div>
      </div>
        <div id="nodesandlinks">
            <div class="tabs">
                <div id="nodetab" class="tab">Nodes</div>
                <div id="linktab" class="tab">Links</div>
            </div>
        <div>
        <table id="nodetable" class="display">
          <thead>
            <tr>
              <th>Node Name</th>
              <th>Node Description</th>
              <th>X</th>
              <th>Y</th>
            </tr>
          </thead>
          <tbody id='nodes'>
            <py:for each="node in network.nodes">
            <tr id="node_${node.node_id}" class="tablerow noderow">
                <td>${node.node_name}</td>
                <td>${node.node_description}</td>
                <td>${node.node_x}</td>
                <td>${node.node_y}</td>
            </tr>
            </py:for>
          </tbody>
      </table>
        <table id="linktable" class="display">
          <thead>
            <tr>
              <th>Link Name</th>
              <th>Link Description</th>
              <th>Start Node</th>
              <th>End Node</th>
            </tr>
          </thead>
          <tbody id='links'>
            <py:for each="link in network.links">
            <tr id="link_${link.link_id}" class="tablerow linkrow">
                <td>${link.link_name}</td>
                <td>${link.link_description}</td>
                <td>${node_name_map[link.node_1_id]}</td>
                <td>${node_name_map[link.node_2_id]}</td>
            </tr>
            </py:for>
          </tbody>
        </table>
        </div>
        </div>
    </div>
    <table id="test" style="bgcolor=blue"></table>
</body>
</html>
